<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<script type="text/javascript" src="../WebView/jquery-1.5.1.min.js"></script>
<script type="text/javascript" src="../WebView/apollo.js"></script>

<style type="text/css">
* { margin:0; padding:0; }

body
{
  overflow:hidden;
}

#Wrapper
{
  position:absolute;
  left:0;
  top:0;
  right:0;
  bottom:0;
}

</style>

<script type="text/javascript">

var api = new ApolloApi('DragItem');

function Start() {
  //api.Log.Debug('Start');
  api.Init();
  api.InitMoveSize();
}

function SetImage(sImageUrl) {
  $('.cImage').attr('src', sImageUrl);
}

function BeginDrag(nPinX, nPinY) {
  $('#Wrapper').mouseup(function (ev) {
    api.Log.Debug('OnEndDrag');
    OnEndDrag();
  });

  var ev = jQuery.Event('mousedown');
  ev.target = $('#Wrapper').get(0);
  ev.x = nPinX;
  ev.y = nPinY;
  api.OnMouseDown(ev);
}

function OnEndDrag() {
  api.ModuleCall('OnEndDrag').send();
}

</script>

</head>

<body>
<div id="Wrapper" class="cApMove"><img class="cImage" src="ItemIcon32.gif" alt="Item"/>
</div>
</body>

</html>
