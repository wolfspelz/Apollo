<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<script type="text/javascript" src="apollo.js"></script>
<style>
* { padding:0; margin:0; font-family:Verdana; font-size:11px; }
input[type="button"] { padding-top:1px; padding-bottom:1px; padding-left:5px; padding-right:5px; }
</style>
<script type="text/javascript">
function log(s) { document.getElementById('iOut').value = document.getElementById('iOut').value + s + '\n'; }

function onMessage(msg)
{
  var sMethod = msg.getString('Method');
  switch (sMethod) {
    case 'OpenDisplayResponse':
      var sDisplay = msg.getString('hDisplay');
      document.getElementById('iHandle').value = sDisplay;
      document.getElementById('iDisplayCallHandle').value = sDisplay;
      break;

    default:
  }

  var sMsg = '';
  for (var i in msg.getList()) {
    sMsg += i + '=' + msg.getList()[i] + '\n';
  }
  log(sMsg);
}

</script>
</head>
<body style="background-color:#ffffcc;">
<textarea id="iOut" style="position:absolute; width:50%; height:100%; left:50%; top:0; border:0px; border-left:1px solid #cccccc; "></textarea>
<div style="position:absolute; left:0; top:0; width:50%; "><div style="margin:10px; ">

<input type="button" value="Reload" onclick="window.location.reload();" />
<input type="button" value="Quit"
  onclick="var msg = new ApMessage('SrpcGate'); msg.setString('Method', 'MainLoop_EndLoop'); msg.send(msg);"
  />
<input type="button" value="XMPP Connect"
  onclick="var msg = new ApMessage('SrpcGate'); msg.setString('Method', 'XMPP_Connect'); msg.send(msg);"
  />
<input type="button" value="XMPP Disconnect"
  onclick="var msg = new ApMessage('SrpcGate'); msg.setString('Method', 'XMPP_Disconnect'); msg.send(msg);"
  />
<hr />

<h1>Navigate</h1>
URL: <input id="iURL" type="text" value="http://www.virtual-presence.org/" />
<input type="button" value="Navigate"
  onclick="var msg = new ApMessage('SrpcGate'); msg.setString('Method', 'VP_NavigateContext'); msg.setString('hContext', document.getElementById('iContext').value); msg.setString('sURL', document.getElementById('iURL').value); msg.send(msg);"
  /><br />
Context: <input id="iContext" type="text" value="[999999]" />
<input type="button" value="Close"
  onclick="var msg = new ApMessage('SrpcGate'); msg.setString('Method', 'VP_CloseContext'); msg.setString('hContext', document.getElementById('iContext').value); msg.send(msg);"
  />
<hr />


</div></div>
</body>

</html>